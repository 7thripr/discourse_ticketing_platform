{"ast":null,"code":"export default {\n  name: \"Tagging\",\n  props: [\"tags\"],\n  data() {\n    return {\n      options: ['Help', 'Portal Down', 'Not Submitted', 'Subject', 'Assignment', 'Activity Question'],\n      search: '',\n      value: this.tags ? this.tags : [],\n      limit: 3\n    };\n  },\n  computed: {\n    criteria() {\n      // Compute the search criteria\n      return this.search.trim().toLowerCase();\n    },\n    availableOptions() {\n      const criteria = this.criteria;\n      // Filter out already selected options\n      const options = this.options.filter(opt => this.value.indexOf(opt) === -1);\n      if (criteria) {\n        // Show only options that match criteria\n        return options.filter(opt => opt.toLowerCase().indexOf(criteria) > -1);\n      }\n      // Show all options available\n      return options;\n    },\n    searchDesc() {\n      if (this.criteria && this.availableOptions.length === 0) {\n        return 'There are no tags matching your search criteria';\n      }\n      return '';\n    }\n  },\n  methods: {\n    onOptionClick({\n      option,\n      addTag\n    }) {\n      addTag(option);\n      this.search = '';\n    }\n  },\n  watch: {\n    value: {\n      handler(newValue, oldValue) {\n        // Note: this is a deep watcher\n        this.$emit('tags_changed', newValue);\n      },\n      deep: true\n    }\n  }\n};","map":{"version":3,"names":["name","props","data","options","search","value","tags","limit","computed","criteria","trim","toLowerCase","availableOptions","filter","opt","indexOf","searchDesc","length","methods","onOptionClick","option","addTag","watch","handler","newValue","oldValue","$emit","deep"],"sources":["src/components/Tagging.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <b-form-group label=\"Tags\" label-for=\"tags-with-dropdown\">\r\n      <b-form-tags id=\"tags-with-dropdown\" v-model=\"value\" no-outer-focus class=\"mb-2\" :limit=\"limit\" required>\r\n        <template v-slot=\"{ tags, disabled, addTag, removeTag }\">\r\n          <ul v-if=\"tags.length > 0\" class=\"list-inline d-inline-block mb-2\">\r\n            <li v-for=\"tag in tags\" :key=\"tag\" class=\"list-inline-item\">\r\n              <b-form-tag\r\n                @remove=\"removeTag(tag)\"\r\n                :title=\"tag\"\r\n                :disabled=\"disabled\"\r\n                variant=\"info\"\r\n              >{{ tag }}</b-form-tag>\r\n            </li>\r\n          </ul>\r\n\r\n          <b-dropdown size=\"sm\" variant=\"outline-secondary\" block menu-class=\"w-100\">\r\n            <template #button-content>\r\n              <b-icon icon=\"tag-fill\"></b-icon> Choose 3 tags\r\n            </template>\r\n            <b-dropdown-form @submit.stop.prevent=\"() => {}\">\r\n              <b-form-group\r\n                label=\"Search tags\"\r\n                label-for=\"tag-search-input\"\r\n                label-cols-md=\"auto\"\r\n                class=\"mb-0\"\r\n                label-size=\"sm\"\r\n                :description=\"searchDesc\"\r\n                :disabled=\"disabled\"\r\n              >\r\n                <b-form-input\r\n                  v-model=\"search\"\r\n                  id=\"tag-search-input\"\r\n                  type=\"search\"\r\n                  size=\"sm\"\r\n                  autocomplete=\"off\"\r\n                 ></b-form-input>\r\n              </b-form-group>\r\n            </b-dropdown-form>\r\n            <b-dropdown-divider></b-dropdown-divider>\r\n            <b-dropdown-item-button\r\n              v-for=\"option in availableOptions\"\r\n              :key=\"option\"\r\n              @click=\"onOptionClick({ option, addTag })\"\r\n            >\r\n              {{ option }}\r\n            </b-dropdown-item-button>\r\n            <b-dropdown-text v-if=\"availableOptions.length === 0\">\r\n              There are no tags available to select\r\n            </b-dropdown-text>\r\n          </b-dropdown>\r\n        </template>\r\n      </b-form-tags>\r\n    </b-form-group>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  export default {\r\n    name: \"Tagging\",\r\n    props: [ \"tags\" ],\r\n    data() {\r\n      return {\r\n        options: ['Help', 'Portal Down', 'Not Submitted', 'Subject', 'Assignment', 'Activity Question'],\r\n        search: '',\r\n        value: this.tags ? this.tags : [],\r\n        limit: 3,\r\n      }\r\n    },\r\n    computed: {\r\n      criteria() {\r\n        // Compute the search criteria\r\n        return this.search.trim().toLowerCase()\r\n      },\r\n      availableOptions() {\r\n        const criteria = this.criteria\r\n        // Filter out already selected options\r\n        const options = this.options.filter(opt => this.value.indexOf(opt) === -1)\r\n        if (criteria) {\r\n          // Show only options that match criteria\r\n          return options.filter(opt => opt.toLowerCase().indexOf(criteria) > -1);\r\n        }\r\n        // Show all options available\r\n        return options\r\n      },\r\n      searchDesc() {\r\n        if (this.criteria && this.availableOptions.length === 0) {\r\n          return 'There are no tags matching your search criteria'\r\n        }\r\n        return ''\r\n      }\r\n    },\r\n    methods: {\r\n      onOptionClick({ option, addTag }) {\r\n        addTag(option)\r\n        this.search = ''\r\n      }\r\n    },\r\n    watch: {\r\n    value: {\r\n      handler(newValue, oldValue) {\r\n        // Note: this is a deep watcher\r\n        this.$emit('tags_changed', newValue);\r\n      },\r\n      deep: true\r\n    }\r\n  }\r\n  }\r\n</script>"],"mappings":"AA0DA;EACAA,IAAA;EACAC,KAAA;EACAC,KAAA;IACA;MACAC,OAAA;MACAC,MAAA;MACAC,KAAA,OAAAC,IAAA,QAAAA,IAAA;MACAC,KAAA;IACA;EACA;EACAC,QAAA;IACAC,SAAA;MACA;MACA,YAAAL,MAAA,CAAAM,IAAA,GAAAC,WAAA;IACA;IACAC,iBAAA;MACA,MAAAH,QAAA,QAAAA,QAAA;MACA;MACA,MAAAN,OAAA,QAAAA,OAAA,CAAAU,MAAA,CAAAC,GAAA,SAAAT,KAAA,CAAAU,OAAA,CAAAD,GAAA;MACA,IAAAL,QAAA;QACA;QACA,OAAAN,OAAA,CAAAU,MAAA,CAAAC,GAAA,IAAAA,GAAA,CAAAH,WAAA,GAAAI,OAAA,CAAAN,QAAA;MACA;MACA;MACA,OAAAN,OAAA;IACA;IACAa,WAAA;MACA,SAAAP,QAAA,SAAAG,gBAAA,CAAAK,MAAA;QACA;MACA;MACA;IACA;EACA;EACAC,OAAA;IACAC,cAAA;MAAAC,MAAA;MAAAC;IAAA;MACAA,MAAA,CAAAD,MAAA;MACA,KAAAhB,MAAA;IACA;EACA;EACAkB,KAAA;IACAjB,KAAA;MACAkB,QAAAC,QAAA,EAAAC,QAAA;QACA;QACA,KAAAC,KAAA,iBAAAF,QAAA;MACA;MACAG,IAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}