{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport Vue from 'vue';\nimport Vuex from 'vuex';\nimport router from '../router';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    user: {\n      user_id: \"\",\n      role: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      profile_photo_loc: \"\"\n    },\n    web_token: \"\",\n    token_expiry_on: 0,\n    logged_status: false\n  },\n  getters: {\n    get_user: function (state) {\n      return state.user;\n    },\n    get_user_id: function (state) {\n      return state.user.user_id;\n    },\n    get_user_role: function (state) {\n      return state.user.role;\n    },\n    get_user_profile_pic: function (state) {\n      return state.user.profile_photo_loc;\n    },\n    get_web_token: function (state) {\n      return state.web_token;\n    },\n    get_token_expiry_on: function (state) {\n      return state.token_expiry_on;\n    },\n    get_logged_status: function (state) {\n      return state.logged_status;\n    }\n  },\n  mutations: {\n    initialiseStore(state) {\n      // Check if the ID exists\n      if (localStorage.getItem('store')) {\n        console.log('App creating. Store available in local storage');\n        // Replace the state object with the stored item\n        this.replaceState(Object.assign(state, JSON.parse(localStorage.getItem('store'))));\n      }\n    },\n    SET_STATE_AFTER_LOGIN(state, payload) {\n      state.user.first_name = payload.first_name;\n      state.user.last_name = payload.last_name;\n      state.user.email = payload.email;\n      state.user.user_id = payload.user_id;\n      state.user.role = payload.role;\n      state.web_token = payload.web_token;\n      state.token_expiry_on = payload.token_expiry_on;\n      state.user.profile_photo_loc = payload.profile_photo_loc;\n      state.logged_status = true;\n    },\n    SET_STATE_AFTER_LOGOUT(state, payload) {\n      state.user.first_name = \"\";\n      state.user.last_name = \"\";\n      state.user.email = \"\";\n      state.user.user_id = \"\";\n      state.user.role = \"\";\n      state.web_token = \"\";\n      state.token_expiry_on = 0;\n      state.user.profile_photo_loc = \"\";\n      state.logged_status = false;\n    },\n    SET_STATE_AFTER_PROFILE_UPDATE(state, payload) {\n      state.user.first_name = payload.first_name;\n      state.user.last_name = payload.last_name;\n      state.user.email = payload.email;\n      state.user.profile_photo_loc = payload.profile_photo_loc;\n    }\n  },\n  actions: {\n    set_state_after_login(context, payload) {\n      context.commit('SET_STATE_AFTER_LOGIN', payload);\n    },\n    set_state_after_logout(context, payload) {\n      context.commit('SET_STATE_AFTER_LOGOUT', payload);\n    },\n    set_state_after_profile_update(context, payload) {\n      context.commit('SET_STATE_AFTER_PROFILE_UPDATE', payload);\n    },\n    token_timeout_fn: async function (context, payload) {\n      // delete token after timeout\n      setTimeout(function () {\n        alert(\"Token Expired. Please login again\");\n        context.commit('SET_STATE_AFTER_LOGOUT', payload);\n        router.push(\"/login\");\n      }, 2000);\n    }\n  },\n  modules: {}\n});","map":{"version":3,"names":["Vue","Vuex","router","use","Store","state","user","user_id","role","first_name","last_name","email","profile_photo_loc","web_token","token_expiry_on","logged_status","getters","get_user","get_user_id","get_user_role","get_user_profile_pic","get_web_token","get_token_expiry_on","get_logged_status","mutations","initialiseStore","localStorage","getItem","console","log","replaceState","Object","assign","JSON","parse","SET_STATE_AFTER_LOGIN","payload","SET_STATE_AFTER_LOGOUT","SET_STATE_AFTER_PROFILE_UPDATE","actions","set_state_after_login","context","commit","set_state_after_logout","set_state_after_profile_update","token_timeout_fn","setTimeout","alert","push","modules"],"sources":["D:/IITM_exam/IITM_Term_7/SE_Project/Tushar_Work/code/frontend/src/store/index.js"],"sourcesContent":["import Vue from 'vue';\nimport Vuex from 'vuex';\nimport router from '../router';\n\nVue.use(Vuex);\n\nexport default new Vuex.Store({\n  state: {\n    user: {\n      user_id: \"\",\n      role: \"\",\n      first_name: \"\",\n      last_name: \"\",\n      email: \"\",\n      profile_photo_loc: \"\",\n    },\n    web_token: \"\",\n    token_expiry_on: 0,\n    logged_status: false,\n  },\n  getters: {\n    get_user: function (state) {\n      return state.user\n    },\n    get_user_id: function (state) {\n      return state.user.user_id\n    },\n    get_user_role: function (state) {\n      return state.user.role\n    },\n    get_user_profile_pic: function (state) {\n      return state.user.profile_photo_loc\n    },\n    get_web_token: function (state) {\n      return state.web_token\n    },\n    get_token_expiry_on: function (state) {\n      return state.token_expiry_on\n    },\n    get_logged_status: function (state) {\n      return state.logged_status\n    },\n\n  },\n  mutations: {\n    initialiseStore(state) {\n      // Check if the ID exists\n      if (localStorage.getItem('store')) {\n        console.log('App creating. Store available in local storage');\n        // Replace the state object with the stored item\n        this.replaceState(\n          Object.assign(state, JSON.parse(localStorage.getItem('store')))\n        );\n      }\n    },\n\n    SET_STATE_AFTER_LOGIN(state, payload) {\n      state.user.first_name = payload.first_name;\n      state.user.last_name = payload.last_name;\n      state.user.email = payload.email;\n      state.user.user_id = payload.user_id;\n      state.user.role = payload.role;\n      state.web_token = payload.web_token;\n      state.token_expiry_on = payload.token_expiry_on;\n      state.user.profile_photo_loc = payload.profile_photo_loc;\n      state.logged_status = true;\n    },\n    SET_STATE_AFTER_LOGOUT(state, payload) {\n      state.user.first_name = \"\";\n      state.user.last_name = \"\";\n      state.user.email = \"\";\n      state.user.user_id = \"\";\n      state.user.role = \"\";\n      state.web_token = \"\";\n      state.token_expiry_on = 0;\n      state.user.profile_photo_loc = \"\";\n      state.logged_status = false;\n    },\n    SET_STATE_AFTER_PROFILE_UPDATE(state, payload) {\n      state.user.first_name = payload.first_name;\n      state.user.last_name = payload.last_name;\n      state.user.email = payload.email;\n      state.user.profile_photo_loc = payload.profile_photo_loc;\n    },\n  },\n  actions: {\n    set_state_after_login(context, payload) {\n      context.commit('SET_STATE_AFTER_LOGIN', payload);\n    },\n    set_state_after_logout(context, payload) {\n      context.commit('SET_STATE_AFTER_LOGOUT', payload);\n    },\n    set_state_after_profile_update(context, payload) {\n      context.commit('SET_STATE_AFTER_PROFILE_UPDATE', payload);\n    },\n    token_timeout_fn: async function (context, payload) {\n      // delete token after timeout\n      setTimeout(function () {\n        alert(\"Token Expired. Please login again\");\n        context.commit('SET_STATE_AFTER_LOGOUT', payload);\n        router.push(\"/login\");\n      }, 2000);\n    },\n  },\n  modules: {\n  },\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}